Microsoft Windows [Version 6.3.9600]
(c) 2013 Microsoft Corporation. All rights reserved.

C:\Users\Rizka A>cd\xampp\mysql\bin

C:\xampp\mysql\bin>mysql -u root
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 3
Server version: 5.6.14 MySQL Community Server (GPL)

Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> create database asset_system;
Query OK, 1 row affected (0.01 sec)

mysql> use asset_system;
Database changed
mysql> CREATE TABLE kategori (
    -> id INTEGER NOT NULL PRIMARY KEY,
    -> nama_kategori TEXT NOT NULL
    -> );
Query OK, 0 rows affected (0.54 sec)

mysql> CREATE TABLE asset (
    -> id INTEGER NOT NULL PRIMARY KEY,
    -> id_kategori INTEGER NOT NULL,
    -> nama_asset TEXT NOT NULL,
    -> jenis TEXT NOT NULL,
    -> FOREIGN KEY(id_kategori) REFERENCES kategori (id)
    -> );
Query OK, 0 rows affected (0.73 sec)

mysql> CREATE TABLE lokasi (
    -> id INTEGER NOT NULL PRIMARY KEY,
    -> nama_ruang TEXT NOT NULL,
    -> lantai TEXT
    -> );
Query OK, 0 rows affected (0.60 sec)

mysql> CREATE TABLE pegawai (
    -> id INTEGER NOT NULL PRIMARY KEY,
    -> nama_pegawai TEXT NOT NULL,
    -> jenis_kelamin TEXT NOT NULL,
    -> jabatan TEXT NOT NULL
    -> );
Query OK, 0 rows affected (0.81 sec)

mysql> CREATE TABLE asset_detail (
    -> id INTEGER NOT NULL PRIMARY KEY,
    -> id_asset INTEGER NOT NULL,
    -> id_lokasi INTEGER NOT NULL,
    -> id_pegawai INTEGER NOT NULL,
    -> kondisi TEXT NOT NULL,
    -> FOREIGN KEY(id_asset) REFERENCES asset(id),
    -> FOREIGN KEY(id_lokasi) REFERENCES lokasi(id),
    -> FOREIGN KEY(id_pegawai) REFERENCES pegawai(id)
    -> );
Query OK, 0 rows affected (1.11 sec)

mysql> CREATE TABLE transaksi (
    -> id INTEGER NOT NULL PRIMARY KEY,
    -> tgl_transaksi TEXT NOT NULL,
    -> jenis TEXT NOT NULL,
    -> penerima TEXT NOT NULL,
    -> penjual TEXT NOT NULL
    -> );
Query OK, 0 rows affected (0.45 sec)

mysql> CREATE TABLE transaksi_detail (
    -> id INTEGER NOT NULL PRIMARY KEY,
    -> id_transaksi INTEGER NOT NULL,
    -> id_asset_detail INTEGER NOT NULL,
    -> harga NUMERIC NOT NULL,
    -> FOREIGN KEY(id_transaksi) REFERENCES transaksi(id),
    -> FOREIGN KEY(id_asset_detail) REFERENCES asset_detail(id)
    -> );
Query OK, 0 rows affected (2.81 sec)

mysql> CREATE TABLE user (
    -> id INTEGER NOT NULL PRIMARY KEY,
    -> id_pegawai INTEGER NOT NULL,
    -> username TEXT NOT NULL,
    -> password TEXT NOT NULL
    -> );
Query OK, 0 rows affected (0.78 sec)





















PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE kategori (
id INTEGER NOT NULL PRIMARY KEY,
nama_kategori TEXT NOT NULL
);
INSERT INTO kategori VALUES(1,'TEST');
CREATE TABLE asset (
id INTEGER NOT NULL PRIMARY KEY,
id_kategori INTEGER NOT NULL,
nama_asset TEXT NOT NULL,
jenis TEXT NOT NULL,
FOREIGN KEY(id_kategori) REFERENCES kategori (id)
);
INSERT INTO asset VALUES(1,1,'TEST','TEST');
CREATE TABLE lokasi (
id INTEGER NOT NULL PRIMARY KEY,
nama_ruang TEXT NOT NULL,
lantai TEXT
);
CREATE TABLE pegawai (
id INTEGER NOT NULL PRIMARY KEY,
nama_pegawai TEXT NOT NULL,
jenis_kelamin TEXT NOT NULL,
jabatan TEXT NOT NULL
);
CREATE TABLE asset_detail (
id INTEGER NOT NULL PRIMARY KEY,
id_asset INTEGER NOT NULL,
id_lokasi INTEGER NOT NULL,
id_pegawai INTEGER NOT NULL,
kondisi TEXT NOT NULL,
FOREIGN KEY(id_asset) REFERENCES asset(id),
FOREIGN KEY(id_lokasi) REFERENCES lokasi(id),
FOREIGN KEY(id_pegawai) REFERENCES pegawai(id)
);
CREATE TABLE transaksi (
id INTEGER NOT NULL PRIMARY KEY,
tgl_transaksi TEXT NOT NULL,
jenis TEXT NOT NULL,
penerima TEXT NOT NULL,
penjual TEXT NOT NULL
);
CREATE TABLE transaksi_detail (
id INTEGER NOT NULL PRIMARY KEY,
id_transaksi INTEGER NOT NULL,
id_asset_detail INTEGER NOT NULL,
harga NUMERIC NOT NULL,
FOREIGN KEY(id_transaksi) REFERENCES transaksi(id),
FOREIGN KEY(id_asset_detail) REFERENCES asset_detail(id)
);
CREATE TABLE user (
id INTEGER NOT NULL PRIMARY KEY,
id_pegawai INTEGER NOT NULL,
username TEXT NOT NULL,
password TEXT NOT NULL
);
COMMIT;